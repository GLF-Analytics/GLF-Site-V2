---
const capabilities = [
  {
    title: "eCommerce Management",
    description:
      "Full setup and administration of online shops. We handle SKU settings, 3PL warehouse connections, and the day-to-day admin of running your shop.",
    bullets: ["Shopify Theme Dev", "App Integrations"],
    icon: "bag"
  },
  {
    title: "Data Strategy & BI",
    description:
      "Build and manage data warehouses. We set up tracking, reporting, and help stakeholders use data to make better decisions.",
    bullets: ["SQL & BigQuery", "Tableau & Looker"],
    icon: "chart"
  },
  {
    title: "Growth Marketing",
    description:
      "Develop and implement strategy across Meta, TikTok, Google Ads, and Amazon. We create audience segments and manage paid media campaigns.",
    bullets: ["Email Marketing (Klaviyo)", "Amazon Buy with Prime"],
    icon: "megaphone"
  },
  {
    title: "Tech Headache Relief",
    description:
      "We take common tech headaches off your plate: fixing broken app connections, troubleshooting bugs, and addressing SEO roadblocks.",
    bullets: ["Optimizing conversion paths", "Inventory reporting"],
    icon: "wrench"
  },
  {
    title: "Tech Stack Audit",
    description:
      "Audit your current technology stack to bring down costs by implementing the best and most efficient tools for your specific scale.",
    icon: "layers"
  },
  {
    title: "Food & Bev Tech",
    description:
      "Grow third-party app sales for restaurants (Ubereats, Doordash) and manage specialized platforms like Olo Engage and OneDine.",
    icon: "utensils"
  }
];
---
<section class="border-white/5 border-b pt-24 pr-6 pb-24 pl-6" id="services">
  <div class="max-w-7xl mx-auto">
    <div class="md:mb-24 mb-16 text-center">
      <div class="capabilities-heading-mask">
        <h2
          class="capabilities-heading text-2xl md:text-3xl font-semibold text-white tracking-tight mb-4"
          data-reveal
        >
          Capabilities
        </h2>
      </div>
      <p
        class="capabilities-subtext text-zinc-400 text-sm max-w-xl mx-auto md:whitespace-nowrap"
        data-reveal
      >
        We bridge the gap between complex data engineering and creative marketing execution.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {capabilities.map((capability) => (
        <div
          class="capability-card p-8 rounded-2xl border border-white/10 bg-zinc-900/20 hover:border-zinc-600 transition-colors group"
          data-reveal
        >
          <div class="capability-content">
            <div class="w-10 h-10 rounded-lg bg-zinc-900 flex items-center justify-center border border-white/5 mb-6 text-zinc-300 group-hover:text-white group-hover:border-white/20 transition-all">
              {capability.icon === "bag" ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  role="img"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                >
                  <g
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                  >
                    <path d="M16 10a4 4 0 0 1-8 0M3.103 6.034h17.794"></path>
                    <path d="M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z"></path>
                  </g>
                </svg>
              ) : null}
              {capability.icon === "chart" ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  role="img"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                >
                  <path
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 3v18h18m-3-4V9m-5 8V5M8 17v-3"
                  ></path>
                </svg>
              ) : null}
              {capability.icon === "megaphone" ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  role="img"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                >
                  <g
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                  >
                    <path d="M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"></path>
                    <path d="M6 14a12 12 0 0 0 2.4 7.2a2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14M8 6v8"></path>
                  </g>
                </svg>
              ) : null}
              {capability.icon === "wrench" ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  role="img"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                >
                  <path
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"
                  ></path>
                </svg>
              ) : null}
              {capability.icon === "layers" ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  role="img"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                >
                  <g
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                  >
                    <path d="M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"></path>
                    <path d="M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"></path>
                    <path d="M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"></path>
                  </g>
                </svg>
              ) : null}
              {capability.icon === "utensils" ? (
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  role="img"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                >
                  <path
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2M7 2v20m14-7V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2zm0 0v7"
                  ></path>
                </svg>
              ) : null}
            </div>
            <h3 class="text-white font-medium mb-3">{capability.title}</h3>
            <p class="text-sm text-zinc-400 leading-relaxed mb-4">
              {capability.description}
            </p>
            {capability.bullets ? (
              <ul class="text-xs text-zinc-500 space-y-2">
                {capability.bullets.map((bullet) => (
                  <li class="flex items-center gap-2">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      aria-hidden="true"
                      role="img"
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                    >
                      <path
                        fill="none"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M20 6L9 17l-5-5"
                      ></path>
                    </svg>
                    {bullet}
                  </li>
                ))}
              </ul>
            ) : null}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  const revealItems = document.querySelectorAll("[data-reveal]");
  if (revealItems.length) {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (!entry.isIntersecting) {
            return;
          }

          entry.target.classList.add("is-visible");
          observer.unobserve(entry.target);
        });
      },
      { threshold: 0.2, rootMargin: "0px 0px -10% 0px" }
    );

    revealItems.forEach((item) => observer.observe(item));
  }
</script>
