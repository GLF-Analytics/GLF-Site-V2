---
---
<nav class="fixed top-0 w-full z-50 nav-glass nav-shell">
  <div class="max-w-7xl mx-auto px-6 md:px-12 lg:px-16 h-20 flex items-center justify-center">
    <a href="/" class="font-mono text-[11px] tracking-[0.25em] text-white uppercase">
      GLF Analytics
    </a>
  </div>

  <!-- Bottom accent line -->
  <div class="absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gold-500/20 to-transparent"></div>
</nav>

<script>
  const nav = document.querySelector("nav");

  if (nav) {
    let lastScrollY = window.scrollY;
    let targetOffset = 0;
    let currentOffset = 0;
    let navHeight = nav.offsetHeight;
    let ticking = false;

    const lerp = (a, b, t) => a + (b - a) * t;

    const updateTarget = () => {
      const current = window.scrollY;
      const delta = current - lastScrollY;

      if (current <= 0) {
        targetOffset = 0;
      } else {
        targetOffset = Math.min(navHeight, Math.max(0, targetOffset + delta));
      }

      lastScrollY = current;
    };

    const animateNav = () => {
      currentOffset = lerp(currentOffset, targetOffset, 0.15);
      nav.style.transform = `translateY(${-currentOffset}px)`;

      if (Math.abs(targetOffset - currentOffset) > 0.5) {
        window.requestAnimationFrame(animateNav);
        return;
      }

      currentOffset = targetOffset;
      nav.style.transform = `translateY(${-currentOffset}px)`;
      ticking = false;
    };

    window.addEventListener(
      "scroll",
      () => {
        if (!ticking) {
          ticking = true;
          updateTarget();
          window.requestAnimationFrame(animateNav);
        } else {
          updateTarget();
        }
      },
      { passive: true }
    );

    window.addEventListener("resize", () => {
      navHeight = nav.offsetHeight;
      targetOffset = Math.min(targetOffset, navHeight);
      currentOffset = Math.min(currentOffset, navHeight);
    });
  }
</script>
