---
const { items = [], title = "Selected Work" } = Astro.props;
---
<section id="timeline" class="border-white/5 border-b pt-24 pr-6 pb-24 pl-6">
  <div class="max-w-3xl mx-auto">
    <h2 class="text-2xl md:text-3xl font-semibold text-white tracking-tight mb-12">
      {title}
    </h2>

    <div class="space-y-8 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-px before:bg-gradient-to-b before:from-transparent before:via-zinc-800 before:to-transparent">
      {items.map((item) => (
        <details class="group relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse w-full text-left cursor-pointer">
          <summary class="list-none flex items-start gap-8 relative z-10 w-full hover:bg-white/[0.02] p-6 rounded-xl transition-colors border border-transparent hover:border-white/5">
            <div class="flex flex-col gap-1 w-full">
              <div class="flex items-center justify-between w-full mb-2">
                <h3 class="text-lg font-medium text-white group-open:text-indigo-400 transition-colors">
                  {item.data.title}
                </h3>
                <span class="text-xs font-mono text-zinc-500 border border-zinc-800 rounded px-2 py-0.5">
                  {item.data.clientType}
                </span>
              </div>
              <p class="text-sm text-zinc-400">{item.data.summary}</p>

              <div class="mt-4 text-sm text-zinc-300 leading-relaxed hidden group-open:block border-t border-white/5 pt-4 transition-all duration-300">
                <p class="mb-2">
                  <span class="text-indigo-400 font-medium">The Challenge:</span>
                  {" "}{item.data.challenge}
                </p>
                <p>
                  <span class="text-indigo-400 font-medium">The Solution:</span>
                  {" "}{item.data.solution}
                </p>
                <div class="mt-3 text-xs text-zinc-500">
                  <a href={`/${item.slug}`} class="hover:text-white transition-colors">
                    View case study
                  </a>
                </div>
              </div>

              <div class="flex items-center gap-2 mt-3 text-xs text-zinc-500 font-medium group-open:hidden">
                <span>Read more</span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  role="img"
                  width="12"
                  height="12"
                  viewBox="0 0 24 24"
                >
                  <path
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="m6 9l6 6l6-6"
                  ></path>
                </svg>
              </div>
            </div>
          </summary>
        </details>
      ))}
    </div>
  </div>
</section>
