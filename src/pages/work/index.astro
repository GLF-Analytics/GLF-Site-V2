---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const entries = (await getCollection("work")).sort(
  (a, b) => a.data.order - b.data.order
);
---
<BaseLayout
  title="Selected Work"
  description="Case studies and project highlights from GLF Analytics."
>
  <section class="pt-32 pb-20 px-6 border-b border-white/5">
    <div class="max-w-5xl mx-auto">
      <h1 class="text-3xl md:text-4xl font-semibold text-white tracking-tight mb-4">
        Selected Work
      </h1>
      <p class="text-sm text-zinc-400 max-w-2xl">
        Browse case studies across ecommerce, data strategy, and growth initiatives. Each project is mapped to clear outcomes and deliverables.
      </p>
    </div>
  </section>

  <section class="py-16 px-6">
    <div class="max-w-5xl mx-auto grid gap-6">
      {entries.map((entry) => (
        <a
          href={`/work/${entry.slug}`}
          class="block rounded-2xl border border-white/10 bg-zinc-900/20 p-6 hover:border-zinc-600 transition-colors"
        >
          <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
            <h2 class="text-lg font-semibold text-white">{entry.data.title}</h2>
            <span class="text-xs font-mono text-zinc-500 border border-zinc-800 rounded px-2 py-0.5">
              {entry.data.clientType}
            </span>
          </div>
          <p class="text-sm text-zinc-400 mt-3">{entry.data.summary}</p>
          <div class="mt-4 flex flex-wrap gap-2">
            {entry.data.tags.map((tag) => (
              <span class="text-xs text-zinc-400 border border-zinc-800 rounded-full px-3 py-1">
                {tag}
              </span>
            ))}
          </div>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>
